import pickle
import matplotlib.pyplot as plt 
import numpy as np
from collections import OrderedDict
import datetime
data=pickle.load(open("tempdata","rb"))

ndata={}
for ips in data:
	ndata[ips]=OrderedDict()
	for i in range(len(data[ips])):
		data[ips][i]=list(data[ips][i])
		data[ips][i][0]=float(data[ips][i][0])
		if data[ips][i][0] not in ndata[ips]:
			ndata[ips][data[ips][i][0]]=[]
		ndata[ips][data[ips][i][0]].append(data[ips][i][1])
for ips in ndata:
	for timestamp in ndata[ips]:
		ndata[ips][timestamp]=np.mean([i for i in ndata[ips][timestamp]])
print(ndata)
for ips in ndata:
	x,y=[],[]
	for timestamp in ndata[ips]:
		x.append(timestamp)
		y.append(ndata[ips][timestamp])
	print(x,y)
	# plt.plot(x,y)
	# plt.title(ips)
	# plt.show()

#data=([1491662333.3, 1491662342.95, 1491662372.16, 1491662570.5, 1491662570.59, 1491662570.81, 1491662570.84, 1491662601.98, 1491663159.88, 1491663165.38, 1491663170.78, 1491663170.79], [1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 1.0, 1.0, 1.0, 2.0, 1.0])
import seaborn as sns

plt.style.use('ggplot')
plt.rcParams['axes.facecolor']='white'
plt.rcParams['grid.color']='gainsboro'
fig, ax = plt.subplots(figsize=(11,5))
data=[1491656166.09, 1491656170.19, 1491656170.2, 1491656170.21, 1491656170.22, 1491656172.05, 1491656172.35, 1491656174.54, 1491656174.93, 1491656178.4, 1491656178.41, 1491656186.79, 1491656188.12, 1491656192.15, 1491656192.58, 1491656192.84, 1491656192.88, 1491656192.92, 1491656192.93, 1491656192.96, 1491656192.97, 1491656192.98, 1491656193.04, 1491656193.15, 1491656193.43, 1491656194.26, 1491656195.48, 1491656196.59, 1491656251.55, 1491656277.11, 1491656299.33, 1491656327.46, 1491656327.71, 1491656331.3, 1491656332.68, 1491656339.04, 1491656340.03, 1491656389.36, 1491656390.78, 1491656390.79, 1491656393.78, 1491656410.97, 1491656432.08, 1491656435.46, 1491656436.41, 1491656437.09, 1491656442.12, 1491656447.12, 1491656473.28, 1491656480.34, 1491656481.3, 1491656484.79, 1491656516.57, 1491656579.95, 1491656601.28, 1491656618.93, 1491656637.46, 1491656664.41, 1491656823.31, 1491656981.58, 1491657013.74, 1491657020.94, 1491657047.37, 1491657125.75, 1491657147.06, 1491657179.41, 1491657294.41, 1491657312.25, 1491657312.9, 1491657332.69, 1491657417.91, 1491657426.06, 1491657476.96, 1491657552.84, 1491657558.21, 1491657604.31, 1491657615.29, 1491657616.36, 1491657680.09, 1491657690.83, 1491657710.8, 1491657731.55, 1491657773.58, 1491657802.58, 1491657807.44, 1491657814.38, 1491657823.92, 1491657868.14, 1491657926.31, 1491657927.07, 1491657930.02, 1491657945.5, 1491657957.62, 1491657986.01, 1491658028.32, 1491658061.92, 1491658074.48, 1491658076.44, 1491658076.5, 1491658091.9, 1491658094.42, 1491658113.25, 1491658189.33, 1491658227.01, 1491658284.29, 1491658316.5, 1491658316.51, 1491658316.79, 1491658363.72, 1491658375.29, 1491658412.48, 1491658438.04, 1491658443.75, 1491658443.84, 1491658444.12, 1491658489.34, 1491658502.4, 1491658570.97, 1491658643.37, 1491658665.43, 1491658665.54, 1491658676.35, 1491658729.3, 1491658764.44, 1491658764.68, 1491658787.33, 1491658794.42, 1491658794.67, 1491658811.08, 1491658811.18, 1491658811.19, 1491658811.35, 1491658839.17, 1491658856.53, 1491658856.8, 1491658869.85, 1491658934.7, 1491658977.29, 1491658984.28, 1491659041.05, 1491659086.4, 1491659111.38, 1491659114.97, 1491659115.26, 1491659144.87, 1491659200.2, 1491659200.24, 1491659200.27, 1491659200.46, 1491659200.48, 1491659200.49, 1491659200.52, 1491659200.53, 1491659200.56, 1491659200.57, 1491659200.58, 1491659200.7, 1491659200.72, 1491659200.73, 1491659200.74, 1491659200.75, 1491659200.76, 1491659200.77, 1491659200.78, 1491659200.88, 1491659201.54, 1491659238.62, 1491659243.2, 1491659278.34, 1491659355.26, 1491659406.21, 1491659411.61, 1491659411.64, 1491659470.44, 1491659478.53, 1491659482.58, 1491659482.84, 1491659576.79, 1491659609.81, 1491659610.07, 1491659737.3, 1491659737.43, 1491659756.39, 1491659768.34, 1491659810.27, 1491659864.54, 1491659864.81, 1491659880.25, 1491659937.81, 1491659978.49, 1491659991.77, 1491660011.25, 1491660015.78, 1491660019.52, 1491660045.61, 1491660084.3, 1491660091.07, 1491660119.04, 1491660119.31, 1491660150.91, 1491660181.28, 1491660184.23, 1491660211.64, 1491660236.47, 1491660236.76, 1491660246.61, 1491660359.26, 1491660362.55, 1491660371.61, 1491660373.46, 1491660385.3, 1491660388.22, 1491660391.99, 1491660397.78, 1491660410.71, 1491660463.5, 1491660463.57, 1491660468.2, 1491660473.95, 1491660482.3, 1491660486.49, 1491660500.69, 1491660508.49, 1491660553.3, 1491660568.71, 1491660613.72, 1491660613.84, 1491660628.18, 1491660632.0, 1491660706.79, 1491660740.95, 1491660779.68, 1491660783.26, 1491660790.76, 1491660807.48, 1491660833.1, 1491660834.89, 1491660837.88, 1491660868.19, 1491660882.9, 1491660934.74, 1491660946.79, 1491661051.31, 1491661061.99, 1491661074.01, 1491661084.26, 1491661098.95, 1491661152.83, 1491661201.24, 1491661211.15, 1491661244.73, 1491661244.9, 1491661245.48, 1491661246.39, 1491661253.48, 1491661264.6, 1491661286.3, 1491661302.02, 1491661349.17, 1491661356.32, 1491661378.09, 1491661385.28, 1491661391.87, 1491661392.12, 1491661455.71, 1491661472.48, 1491661490.6, 1491661519.06, 1491661564.98, 1491661582.93, 1491661597.72, 1491661632.09, 1491661686.33, 1491661699.93, 1491661701.28, 1491661777.0, 1491661811.94, 1491661839.93, 1491661852.82, 1491661853.12, 1491661854.75, 1491661856.68, 1491661885.42, 1491661886.89, 1491661904.36, 1491661987.3, 1491661994.06, 1491661998.34, 1491662006.62, 1491662012.68, 1491662013.23, 1491662014.25, 1491662031.59, 1491662084.8, 1491662127.49, 1491662133.18, 1491662136.46, 1491662138.97, 1491662142.4, 1491662158.81, 1491662254.93, 1491662288.3, 1491662332.83, 1491662382.17, 1491662395.99, 1491662410.94, 1491662411.03, 1491662411.16, 1491662427.16, 1491662428.57, 1491662536.68, 1491662536.76, 1491662540.0, 1491662540.51, 1491662547.38, 1491662548.71, 1491662548.72, 1491662551.39, 1491662552.89, 1491662552.9, 1491662554.65, 1491662555.62, 1491662557.77, 1491662561.56, 1491662561.7, 1491662566.42, 1491662566.49, 1491662569.2, 1491662570.73, 1491662576.67, 1491662578.73, 1491662583.41, 1491662589.26, 1491662589.66, 1491662635.99, 1491662636.68, 1491662667.75, 1491662759.14, 1491662764.0, 1491662794.97, 1491662890.26, 1491662994.15, 1491663030.42, 1491663049.43, 1491663105.03, 1491663142.61, 1491663176.69, 1491663303.03, 1491663360.76, 1491663472.75, 1491663487.96, 1491663492.27, 1491663545.52, 1491663545.91, 1491663548.14, 1491663569.61, 1491663569.66, 1491663611.15, 1491663621.01, 1491663637.87, 1491663686.25, 1491663742.69, 1491663792.25, 1491663813.48, 1491663864.68, 1491663869.93, 1491663944.47, 1491664000.57, 1491664068.81, 1491664069.83, 1491664070.15, 1491664070.19, 1491664070.32, 1491664070.59, 1491664070.65, 1491664071.93, 1491664071.94, 1491664073.32, 1491664073.68, 1491664074.91, 1491664074.98, 1491664075.0, 1491664075.13, 1491664075.2, 1491664075.62, 1491664075.66, 1491664075.91, 1491664076.99, 1491664077.18, 1491664077.7, 1491664077.72, 1491664079.2, 1491664079.79, 1491664079.81, 1491664082.36, 1491664083.92, 1491664084.21, 1491664084.53, 1491664086.8, 1491664087.2, 1491664089.56, 1491664093.26, 1491664122.54, 1491664131.74, 1491664134.35, 1491664136.48, 1491664147.82, 1491664152.36, 1491664154.53, 1491664199.55, 1491664223.99, 1491664227.07, 1491664230.57, 1491664232.89, 1491664237.3, 1491664244.61, 1491664280.75, 1491664285.67, 1491664320.7, 1491664323.57, 1491664327.77, 1491664364.23, 1491664364.5, 1491664364.54, 1491664366.15, 1491664366.16, 1491664366.46, 1491664367.05, 1491664368.22, 1491664368.24, 1491664368.27, 1491664368.56, 1491664369.69, 1491664371.14, 1491664371.9, 1491664372.18, 1491664372.44, 1491664373.34, 1491664373.95, 1491664374.12, 1491664375.24, 1491664377.1, 1491664377.11, 1491664385.26, 1491664394.33, 1491664460.65, 1491664463.83, 1491664485.03, 1491664581.22, 1491664610.46, 1491664695.27, 1491664708.57, 1491664713.11, 1491664725.48, 1491664792.03, 1491664815.78, 1491664860.08, 1491664890.94, 1491664905.72, 1491664967.47, 1491664996.28, 1491665046.49, 1491665083.4, 1491665140.39, 1491665140.43, 1491665140.6, 1491665160.07, 1491665207.5, 1491665207.54, 1491665207.55, 1491665207.86, 1491665209.89, 1491665210.3, 1491665214.01, 1491665214.05, 1491665214.18, 1491665214.26, 1491665214.28, 1491665237.58, 1491665244.62, 1491665244.87, 1491665259.79, 1491665261.56, 1491665261.61, 1491665261.75, 1491665270.33, 1491665274.62, 1491665274.87, 1491665297.32, 1491665337.76, 1491665337.93, 1491665357.71, 1491665383.65, 1491665397.3, 1491665453.88, 1491665487.29, 1491665524.57, 1491665598.27, 1491665614.56, 1491665648.64, 1491665648.66, 1491665674.78, 1491665695.3, 1491665702.41, 1491665729.55, 1491665786.91, 1491665792.23, 1491665792.25, 1491665794.24, 1491665827.6, 1491665833.05, 1491665838.0, 1491665840.98, 1491665841.81, 1491665860.86, 1491665861.77, 1491665864.91, 1491665865.33, 1491665899.38, 1491665931.42, 1491665958.93, 1491666010.86, 1491666010.94, 1491666011.18, 1491666032.22, 1491666032.85, 1491666058.73, 1491666159.48, 1491666200.32, 1491666228.2, 1491666293.73, 1491666360.8, 1491666380.95, 1491666428.87, 1491666501.34, 1491666541.27, 1491666554.91, 1491666584.21, 1491666792.34, 1491666795.74, 1491666802.27, 1491666834.73, 1491666842.25, 1491667081.93, 1491667103.26, 1491667147.77, 1491667162.17, 1491667211.24, 1491667215.76, 1491667235.41, 1491667239.45, 1491667253.28, 1491667278.46, 1491667288.25, 1491667404.26, 1491667415.52, 1491667420.44, 1491667424.97, 1491667467.0, 1491667519.86, 1491667547.81, 1491667558.71, 1491667705.26, 1491667727.61, 1491667727.65, 1491667832.85, 1491667868.33, 1491667889.43, 1491668006.26, 1491668108.34, 1491668161.38, 1491668246.93, 1491668251.54, 1491668251.74, 1491668252.78, 1491668255.25, 1491668262.38, 1491668271.09, 1491668272.03, 1491668272.05, 1491668286.24, 1491668307.26, 1491668411.16, 1491668432.91, 1491668511.55, 1491668568.14, 1491668608.27, 1491668616.6, 1491668795.93, 1491668909.25, 1491668912.49, 1491668913.42, 1491668914.25, 1491668914.27, 1491668930.42, 1491668930.45, 1491668930.87, 1491668983.15, 1491669089.25, 1491669210.25, 1491669216.48, 1491669343.89, 1491669409.64, 1491669414.31, 1491669454.98, 1491669455.0, 1491669511.26, 1491669610.95, 1491669611.16, 1491669632.85, 1491669672.69, 1491669691.0, 1491669698.43, 1491669764.95, 1491669806.61, 1491669806.65, 1491669812.26, 1491669892.31, 1491669914.32, 1491669944.91, 1491669987.01, 1491670020.96, 1491670113.26, 1491670305.69, 1491670401.43, 1491670413.26, 1491670428.82, 1491670515.26, 1491670649.85, 1491670672.18, 1491670714.26, 1491670811.22, 1491670890.25, 1491670906.59, 1491671015.26, 1491671017.43, 1491671156.13, 1491671272.42, 1491671282.28, 1491671316.35, 1491671432.85, 1491671617.32, 1491671656.32, 1491671673.26, 1491671681.24, 1491671696.5, 1491671716.49, 1491671717.39, 1491671717.43, 1491671718.36, 1491671721.59, 1491671759.56, 1491671786.72, 1491671786.73, 1491671837.63, 1491671845.59, 1491671883.43, 1491671918.25, 1491671972.43, 1491671997.5, 1491671999.64, 1491671999.81, 1491672011.19, 1491672015.8, 1491672157.64, 1491672219.27, 1491672296.04, 1491672389.35, 1491672423.26, 1491672473.86, 1491672520.26, 1491672565.42, 1491672599.65, 1491672610.72, 1491672691.25, 1491672801.49, 1491672801.74, 1491672818.53, 1491672821.25, 1491672851.03, 1491672930.65, 1491672930.93, 1491673016.2, 1491673017.56, 1491673036.92, 1491673050.87, 1491673061.63, 1491673074.69, 1491673083.79, 1491673084.42, 1491673084.68, 1491673122.28, 1491673133.71, 1491673182.69, 1491673196.07, 1491673203.56, 1491673203.57, 1491673203.65, 1491673203.71, 1491673232.85, 1491673280.14, 1491673289.48, 1491673326.89, 1491673329.42, 1491673333.85, 1491673338.42, 1491673365.14, 1491673365.16, 1491673365.18, 1491673365.19, 1491673365.39, 1491673365.4, 1491673365.41, 1491673365.42, 1491673365.44, 1491673365.45, 1491673365.46, 1491673365.47, 1491673365.48, 1491673365.64, 1491673365.65, 1491673365.66, 1491673365.71, 1491673365.74, 1491673365.75, 1491673365.78, 1491673365.79, 1491673365.82, 1491673365.92, 1491673365.93, 1491673365.94, 1491673365.95, 1491673365.96, 1491673365.97, 1491673365.98, 1491673365.99, 1491673366.0, 1491673366.03, 1491673366.05, 1491673366.07, 1491673366.08, 1491673366.12, 1491673366.19, 1491673366.2, 1491673366.21, 1491673366.22, 1491673366.23, 1491673366.24, 1491673366.25, 1491673366.26, 1491673366.27, 1491673366.28, 1491673366.33, 1491673366.34, 1491673366.36, 1491673366.37, 1491673366.38, 1491673366.41, 1491673366.42, 1491673366.43, 1491673366.52, 1491673366.53, 1491673366.54, 1491673366.73, 1491673367.01, 1491673367.22, 1491673369.13, 1491673369.14, 1491673369.18, 1491673369.26, 1491673369.28, 1491673369.39, 1491673373.51, 1491673377.72, 1491673378.16, 1491673423.3, 1491673497.31, 1491673497.74, 1491673541.54, 1491673580.45, 1491673580.46, 1491673585.15, 1491673585.16, 1491673585.19, 1491673586.4, 1491673586.41, 1491673586.42, 1491673586.44, 1491673586.46, 1491673586.5, 1491673605.97, 1491673628.07, 1491673641.87, 1491673641.95, 1491673641.96, 1491673641.97, 1491673642.01, 1491673642.06, 1491673642.22, 1491673642.5, 1491673643.36, 1491673647.84, 1491673719.08, 1491673719.64, 1491673738.37, 1491673738.41, 1491673748.26, 1491673897.36, 1491673911.2, 1491671093.31, 1491671098.32, 1491671107.51, 1491671108.49, 1491671108.79, 1491671140.34, 1491671140.84, 1491671149.54, 1491671149.55, 1491638752.0, 1491638771.13, 1491657990.3, 1491657990.32, 1491657996.2, 1491658006.55, 1491658009.16, 1491658011.7, 1491658053.2, 1491658053.23, 1491658148.26, 1491658150.58, 1491658165.82, 1491658300.26, 1491658307.25, 1491658360.59, 1491658377.54, 1491658382.19, 1491658458.6, 1491658499.21, 1491658594.21, 1491658594.22, 1491658627.23, 1491658666.07, 1491658773.57, 1491658774.39, 1491658979.38, 1491659012.49, 1491659024.83, 1491659111.32, 1491659137.24, 1491659219.05, 1491659233.48, 1491659292.98, 1491659409.37, 1491659409.39, 1491659409.4, 1491659409.41, 1491659409.43, 1491659409.44, 1491659409.47, 1491659409.48, 1491659510.48, 1491659577.64, 1491659593.47, 1491659611.51, 1491659728.8, 1491659740.02, 1491659747.87, 1491659831.74, 1491659833.43, 1491659861.75, 1491660106.14, 1491660111.91, 1491660192.2, 1491660259.59, 1491660362.04, 1491660461.82, 1491660612.7, 1491660643.83, 1491660673.49, 1491660681.42, 1491660777.21, 1491660777.49, 1491660778.05, 1491660781.66, 1491660785.74, 1491660786.11, 1491660786.38, 1491660789.21, 1491660789.25, 1491660789.56, 1491660799.3, 1491660841.66, 1491660862.47, 1491660913.38, 1491660969.06, 1491660970.17, 1491661064.31, 1491661074.19, 1491661074.21, 1491661074.23, 1491661074.27, 1491661074.37, 1491661074.79, 1491661075.59, 1491661077.54, 1491661079.1, 1491661129.19, 1491661129.77, 1491661130.5, 1491661155.87, 1491661305.86, 1491661510.34, 1491661596.13, 1491661753.43, 1491661815.0, 1491661841.61, 1491661853.53, 1491661858.77, 1491661860.61, 1491661866.41, 1491661866.42, 1491661867.11, 1491661877.15, 1491661902.81, 1491661905.83, 1491661977.44, 1491662003.78, 1491662017.07, 1491662060.61, 1491662106.99, 1491662111.15, 1491662113.8, 1491662271.21, 1491662322.02, 1491662322.08, 1491662361.11, 1491662368.01, 1491662470.36, 1491662478.0, 1491662478.25, 1491662599.22, 1491662829.7, 1491662830.25, 1491662893.5, 1491662907.85, 1491663164.64, 1491663170.71, 1491663177.53, 1491663182.19, 1491663193.32, 1491663347.61, 1491663352.31, 1491663420.84, 1491663534.3, 1491663547.37, 1491663609.68, 1491663612.48, 1491663641.28, 1491663703.57, 1491663729.57, 1491663807.7, 1491663861.61, 1491663898.83, 1491663960.87, 1491663976.96, 1491664007.12, 1491664007.51, 1491664030.36, 1491664185.64, 1491664223.52, 1491664250.35, 1491664350.2, 1491664377.28, 1491664377.47, 1491664377.62, 1491664390.27, 1491664399.22, 1491664549.75, 1491664606.67, 1491664685.29, 1491664784.24, 1491664829.21, 1491664873.23, 1491664914.28, 1491664931.3, 1491664940.28, 1491665110.32, 1491665234.95, 1491665252.81, 1491665263.18, 1491665265.8, 1491665382.96, 1491665470.1, 1491665535.04, 1491665577.49, 1491665582.08, 1491665619.58, 1491665643.3, 1491665662.6, 1491665757.89, 1491665773.0, 1491665799.46, 1491665809.69, 1491665811.19, 1491665834.93, 1491665836.88, 1491665837.31, 1491665851.6, 1491665862.71, 1491665862.79, 1491665862.96, 1491665953.21, 1491666105.19, 1491666134.96, 1491666199.21, 1491666310.21, 1491666429.2, 1491666464.86, 1491666609.17, 1491666673.04, 1491666734.93, 1491666777.56, 1491666910.03, 1491667034.94, 1491667035.11, 1491667153.07, 1491667159.74, 1491667159.75, 1491667160.74, 1491667170.27, 1491667170.28, 1491667334.94, 1491667392.99, 1491667463.59, 1491667601.56, 1491667630.0, 1491667634.94, 1491667748.78, 1491667749.17, 1491667934.94, 1491667977.26, 1491667977.37, 1491667977.57, 1491667993.03, 1491667999.21, 1491668229.96, 1491668234.96, 1491668508.2, 1491668508.25, 1491668534.99, 1491668589.92, 1491668705.29, 1491668834.95, 1491668949.89, 1491669134.95, 1491669177.44, 1491669264.67, 1491669275.77, 1491669309.88, 1491669418.67, 1491669429.81, 1491669430.96, 1491669431.45, 1491669432.87, 1491669432.88, 1491669432.91, 1491669432.94, 1491669434.24, 1491669437.14, 1491669437.2, 1491669438.63, 1491669440.07, 1491669475.7, 1491669499.2, 1491669520.26, 1491669521.22, 1491669521.32, 1491669521.54, 1491669526.97, 1491669528.12, 1491669528.26, 1491669544.9, 1491669669.86, 1491669712.06, 1491669722.55, 1491669725.89, 1491669735.95, 1491669741.73, 1491669747.15, 1491669757.14, 1491669757.72, 1491669770.77, 1491669773.33, 1491669773.49, 1491669782.18, 1491669782.19, 1491669782.2, 1491669782.25, 1491669787.68, 1491669788.37, 1491669788.52, 1491669788.53, 1491669788.56, 1491669788.93, 1491669791.27, 1491669792.69, 1491669793.6, 1491669796.04, 1491669797.33, 1491669797.36, 1491669797.47, 1491669797.7, 1491669798.98, 1491669801.34, 1491669801.63, 1491669802.37, 1491669802.42, 1491669802.51, 1491669802.78, 1491669804.98, 1491669807.19, 1491669808.59, 1491669810.27, 1491669810.28, 1491669810.31, 1491669810.72, 1491669855.26, 1491670022.17, 1491670032.93, 1491670034.99, 1491670039.58, 1491670039.66, 1491670039.82, 1491670040.02, 1491670040.08, 1491670040.28, 1491670040.49, 1491670041.33, 1491670049.3, 1491670050.13, 1491670056.55, 1491670061.87, 1491670062.49, 1491670095.87, 1491670106.33, 1491670106.42, 1491670269.84, 1491670273.56, 1491670275.88, 1491670286.92, 1491670291.11, 1491670291.12, 1491670291.13, 1491670292.9, 1491670297.16, 1491670299.23, 1491670301.42, 1491670302.28, 1491670302.65, 1491670308.25, 1491670308.72, 1491670309.21, 1491670309.36, 1491670309.97, 1491670310.61, 1491670311.04, 1491670311.12, 1491670311.42, 1491670311.46, 1491670311.49, 1491670311.59, 1491670311.91, 1491670312.27, 1491670312.36, 1491670312.38, 1491670312.49, 1491670314.08, 1491670314.1, 1491670314.25, 1491670314.73, 1491670314.83, 1491670314.87, 1491670314.99, 1491670317.64, 1491670320.18, 1491670320.24, 1491670321.74, 1491670325.6, 1491670326.2, 1491670327.21, 1491670330.08, 1491670330.1, 1491670330.59, 1491670330.6, 1491670330.86, 1491670358.28, 1491670363.66, 1491670364.03, 1491670376.61, 1491670377.42, 1491670382.09, 1491670422.8, 1491670452.2, 1491670472.61, 1491670475.05, 1491670501.65, 1491670501.69, 1491670537.6, 1491670565.63, 1491670587.21, 1491670589.6, 1491670592.94, 1491670601.84, 1491670601.98, 1491670604.56, 1491670604.69, 1491670610.72, 1491670614.83, 1491670614.84, 1491670615.91, 1491670616.1, 1491670616.11, 1491670616.16, 1491670616.34, 1491670617.8, 1491670619.07, 1491670619.15, 1491670619.37, 1491670620.44, 1491670620.54, 1491670621.26, 1491670623.0, 1491670623.04, 1491670623.09, 1491670623.27, 1491670623.7, 1491670623.71, 1491670623.86, 1491670629.62, 1491670632.83, 1491670659.54, 1491670668.19, 1491670678.44, 1491670695.63, 1491670716.15, 1491670722.22, 1491670747.61, 1491670758.68, 1491670758.75, 1491670759.62, 1491670766.96, 1491670800.65, 1491670823.65, 1491670877.67, 1491670912.6, 1491670953.71, 1491670966.47, 1491670978.12, 1491670992.79, 1491671004.7, 1491671011.39, 1491671018.11, 1491671018.68, 1491671029.19, 1491671065.59, 1491671079.66]
print(data[0],data[-1])
data.sort()
data=data[200:]
y=[0]*53
y.append(1)
y.extend([0]*178)
y.append(2)
y.extend([0]*486)
y.append(1)
y.extend([0]*346)
data=[i for i in range(1491656166, 1491671079,14)]

text=1
for i,j in zip(data,y):
	if j==1 or j==2:
		plt.scatter(i,j,color='k')
		print("-->",datetime.datetime.fromtimestamp(i).strftime('%Y-%m-%d %H:%M:%S').split()[1])
		ax.annotate(chr(text+64), (i+200,j),size=9)
		text+=1	


plt.plot(data,y)
plt.ylim(0,2.1)
plt.title("Real-time Personal Egress Traffic Monitoring: 172.16.103.217")
plt.ylabel("User's Anomaly Score")
plt.xlabel("Timestamp(HH:MM:SS)")
gap=60
plt.xticks(data[::gap],[datetime.datetime.fromtimestamp(i).strftime('%Y-%m-%d %H:%M:%S').split()[1] for i in data][::gap],rotation=12)
plt.show()